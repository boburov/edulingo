{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/boburov/Desktop/edulingo/client/app/%28global_components%29/Heading.tsx"],"sourcesContent":["export default function Heading({ text }: { text: string }) {\n    return <h1 className=\"text-2xl font-semibold text_color\">{text}</h1>\n}\n"],"names":[],"mappings":";;;;;;AAAe,SAAS,QAAQ,EAAE,IAAI,EAAoB;IACtD,qBAAO,8OAAC;QAAG,WAAU;kBAAqC;;;;;;AAC9D","debugId":null}},
    {"offset": {"line": 90, "column": 0}, "map": {"version":3,"sources":["file:///home/boburov/Desktop/edulingo/client/app/api/api.config.ts"],"sourcesContent":["import axios from \"axios\";\n\nconst api = axios.create({\n  baseURL: \"http://localhost:8000\",\n  headers: {\n    Accept: \"application/json\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n\napi.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem(\"access_token\");\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\napi.interceptors.response.use(\n  (response) => {\n    return response.data;\n  },\n  (error) => {\n    if (error.response && error.response?.status === 404) {\n      localStorage.removeItem(\"token\");\n    }\n    return Promise.reject(error);\n  }\n);\n\nexport default api;\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,MAAM,gJAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,SAAS;QACP,QAAQ;QACR,gBAAgB;IAClB;AACF;AAEA,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAC1B,CAAC;IACC,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IAClD;IACA,OAAO;AACT,GACA,CAAC;IACC,OAAO,QAAQ,MAAM,CAAC;AACxB;AAGF,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC;IACC,OAAO,SAAS,IAAI;AACtB,GACA,CAAC;IACC,IAAI,MAAM,QAAQ,IAAI,MAAM,QAAQ,EAAE,WAAW,KAAK;QACpD,aAAa,UAAU,CAAC;IAC1B;IACA,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa","debugId":null}},
    {"offset": {"line": 125, "column": 0}, "map": {"version":3,"sources":["file:///home/boburov/Desktop/edulingo/client/app/api/api.endpoint.ts"],"sourcesContent":["const apiEndpoints = {\n  home: \"/\",\n\n  // auth\n  signup: \"/auth/signup\",\n  signin: \"auth/singin\",\n  profile: \"/auth/profile\",\n  resetToken: (token: string) => `/auth/reset/?token=${token}`,\n  verify_magic_link: (token: string) => `/auth/verify-token/?token=${token}`,\n  google: \"/auth/google\",\n\n  // organisations\n};\n\nexport default apiEndpoints;"],"names":[],"mappings":";;;;AAAA,MAAM,eAAe;IACnB,MAAM;IAEN,OAAO;IACP,QAAQ;IACR,QAAQ;IACR,SAAS;IACT,YAAY,CAAC,QAAkB,CAAC,mBAAmB,EAAE,OAAO;IAC5D,mBAAmB,CAAC,QAAkB,CAAC,0BAA0B,EAAE,OAAO;IAC1E,QAAQ;AAGV;uCAEe","debugId":null}},
    {"offset": {"line": 144, "column": 0}, "map": {"version":3,"sources":["file:///home/boburov/Desktop/edulingo/client/app/api/services/authService.ts"],"sourcesContent":["import User from \"@/app/types/User\";\nimport api from \"../api.config\";\nimport apiEndpoints from \"../api.endpoint\";\nimport { LoginData, RegisterData } from \"./utils/authTypes\";\n\nconst authService = {\n  login: async (data: LoginData) => {\n    try {\n      return await api.post(apiEndpoints.signin, data);\n    } catch (error) {\n      throw error;\n    }\n  },\n\n  signup: async (data: RegisterData) => {\n    try {\n      return await api.post(apiEndpoints.signup, data);\n    } catch (error) {\n      throw error;\n    }\n  },\n\n  verifyEmail: async (token: string) => {\n    try {\n      return await api.get(apiEndpoints.verify_magic_link(token));\n    } catch (error) {\n      throw error;\n    }\n  },\n\n  getProfile: async () => {\n    try {\n      const res = await api.get(apiEndpoints.profile, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`,\n        },\n      });\n      return res.data as User;\n    } catch (error) {\n      throw error;\n    }\n  },\n\n  resetToken: async (reset_token: string) => {\n    try {\n      return await api.get(apiEndpoints.resetToken(reset_token));\n    } catch (error) {\n      throw error;\n    }\n  },\n};\n\nexport default authService;\n"],"names":[],"mappings":";;;;AACA;AACA;;;AAGA,MAAM,cAAc;IAClB,OAAO,OAAO;QACZ,IAAI;YACF,OAAO,MAAM,sIAAG,CAAC,IAAI,CAAC,wIAAY,CAAC,MAAM,EAAE;QAC7C,EAAE,OAAO,OAAO;YACd,MAAM;QACR;IACF;IAEA,QAAQ,OAAO;QACb,IAAI;YACF,OAAO,MAAM,sIAAG,CAAC,IAAI,CAAC,wIAAY,CAAC,MAAM,EAAE;QAC7C,EAAE,OAAO,OAAO;YACd,MAAM;QACR;IACF;IAEA,aAAa,OAAO;QAClB,IAAI;YACF,OAAO,MAAM,sIAAG,CAAC,GAAG,CAAC,wIAAY,CAAC,iBAAiB,CAAC;QACtD,EAAE,OAAO,OAAO;YACd,MAAM;QACR;IACF;IAEA,YAAY;QACV,IAAI;YACF,MAAM,MAAM,MAAM,sIAAG,CAAC,GAAG,CAAC,wIAAY,CAAC,OAAO,EAAE;gBAC9C,SAAS;oBACP,eAAe,CAAC,OAAO,EAAE,aAAa,OAAO,CAAC,iBAAiB;gBACjE;YACF;YACA,OAAO,IAAI,IAAI;QACjB,EAAE,OAAO,OAAO;YACd,MAAM;QACR;IACF;IAEA,YAAY,OAAO;QACjB,IAAI;YACF,OAAO,MAAM,sIAAG,CAAC,GAAG,CAAC,wIAAY,CAAC,UAAU,CAAC;QAC/C,EAAE,OAAO,OAAO;YACd,MAAM;QACR;IACF;AACF;uCAEe","debugId":null}},
    {"offset": {"line": 199, "column": 0}, "map": {"version":3,"sources":["file:///home/boburov/Desktop/edulingo/client/app/%28auth%29/verification/page.tsx"],"sourcesContent":["\"use client\";\nimport Heading from \"@/app/(global_components)/Heading\";\nimport authService from \"@/app/api/services/authService\";\nimport { updateUser } from \"@/app/store/slices/userSlice\";\nimport { useRouter, useSearchParams } from \"next/navigation\";\nimport { useEffect, useState } from \"react\";\nimport toast from \"react-hot-toast\";\nimport { useDispatch } from \"react-redux\";\nimport { HashLoader } from \"react-spinners\";\n\nexport default function Verification() {\n  const [loading1, setLoading1] = useState(false);\n  const [loading2, setLoading2] = useState(false);\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const token = searchParams.get(\"token\");\n  const dispatch = useDispatch();\n\n  async function Verify() {\n    if (!token) {\n      return router.push(\"/signup\");\n    }\n    try {\n      setLoading1(true);\n      const data: any = await authService.verifyEmail(token);\n      const access_token = data.access_token;\n      const reset_token = data.reset_token;\n      localStorage.setItem(\"access_token\", access_token);\n      localStorage.setItem(\"reset_token\", reset_token);\n      setLoading1(false);\n      setLoading2(true);\n      const user_data = await authService.getProfile();\n      // there user data shoul be saved to redux\n      dispatch(updateUser(user_data));\n      router.push(\"/panel\");\n      setLoading2(false);\n    } catch (error) {\n      console.log(error);\n      toast.error(\"Sothing went wrong\");\n      router.push(\"/signup\");\n    }\n  }\n\n  useEffect(() => {\n    Verify();\n  }, []);\n\n  return (\n    <div className=\"space-y-4\">\n      <Heading text=\"Veriying your email...\" />\n      <HashLoader color=\"#7c3aed\" size={80} />\n      {loading1 && <p>Verifying your email and setting your accaunt...</p>}\n      {loading2 && <p>Receiving and saving you account data...</p>}\n      {!loading1 && !loading2 && <p>Welcome to Edulingo!</p>}\n      <p className=\"text_color\">Do not close the page</p>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;;;;;;;;;AAUe,SAAS;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,eAAe,IAAA,qJAAe;IACpC,MAAM,QAAQ,aAAa,GAAG,CAAC;IAC/B,MAAM,WAAW,IAAA,wKAAW;IAE5B,eAAe;QACb,IAAI,CAAC,OAAO;YACV,OAAO,OAAO,IAAI,CAAC;QACrB;QACA,IAAI;YACF,YAAY;YACZ,MAAM,OAAY,MAAM,gJAAW,CAAC,WAAW,CAAC;YAChD,MAAM,eAAe,KAAK,YAAY;YACtC,MAAM,cAAc,KAAK,WAAW;YACpC,aAAa,OAAO,CAAC,gBAAgB;YACrC,aAAa,OAAO,CAAC,eAAe;YACpC,YAAY;YACZ,YAAY;YACZ,MAAM,YAAY,MAAM,gJAAW,CAAC,UAAU;YAC9C,0CAA0C;YAC1C,SAAS,IAAA,iJAAU,EAAC;YACpB,OAAO,IAAI,CAAC;YACZ,YAAY;QACd,EAAE,OAAO,OAAO;YACd,QAAQ,GAAG,CAAC;YACZ,kKAAK,CAAC,KAAK,CAAC;YACZ,OAAO,IAAI,CAAC;QACd;IACF;IAEA,IAAA,kNAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,mJAAO;gBAAC,MAAK;;;;;;0BACd,8OAAC,6MAAU;gBAAC,OAAM;gBAAU,MAAM;;;;;;YACjC,0BAAY,8OAAC;0BAAE;;;;;;YACf,0BAAY,8OAAC;0BAAE;;;;;;YACf,CAAC,YAAY,CAAC,0BAAY,8OAAC;0BAAE;;;;;;0BAC9B,8OAAC;gBAAE,WAAU;0BAAa;;;;;;;;;;;;AAGhC","debugId":null}}]
}