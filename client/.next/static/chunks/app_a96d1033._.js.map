{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/xamidov/devs/edulingo/client/app/panel/%28panel_components%29/UserProfile.tsx"],"sourcesContent":["\"use client\";\nimport { useSelector } from \"react-redux\";\n\nexport default function UserProfile() {\n  const user = useSelector((state: any) => state.user);\n  console.log(user);\n\n  return (\n    <div>\n      <p>User profile here</p>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AACA;;;AADA;;AAGe,SAAS;;IACtB,MAAM,OAAO,CAAA,GAAA,4JAAA,CAAA,cAAW,AAAD;yCAAE,CAAC,QAAe,MAAM,IAAI;;IACnD,QAAQ,GAAG,CAAC;IAEZ,qBACE,6LAAC;kBACC,cAAA,6LAAC;sBAAE;;;;;;;;;;;AAGT;GATwB;;QACT,4JAAA,CAAA,cAAW;;;KADF","debugId":null}},
    {"offset": {"line": 53, "column": 0}, "map": {"version":3,"sources":["file:///home/xamidov/devs/edulingo/client/app/api/api.config.ts"],"sourcesContent":["import axios from \"axios\";\n\nconst api = axios.create({\n  baseURL: \"http://localhost:8080\",\n  headers: {\n    Accept: \"application/json\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n\napi.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem(\"access_token\");\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\napi.interceptors.response.use(\n  (response) => {\n    return response.data;\n  },\n  (error) => {\n    if (error.response && error.response?.status === 404) {\n      localStorage.removeItem(\"token\");\n    }\n    return Promise.reject(error);\n  }\n);\n\nexport default api;\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,SAAS;QACP,QAAQ;QACR,gBAAgB;IAClB;AACF;AAEA,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAC1B,CAAC;IACC,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IAClD;IACA,OAAO;AACT,GACA,CAAC;IACC,OAAO,QAAQ,MAAM,CAAC;AACxB;AAGF,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC;IACC,OAAO,SAAS,IAAI;AACtB,GACA,CAAC;IACC,IAAI,MAAM,QAAQ,IAAI,MAAM,QAAQ,EAAE,WAAW,KAAK;QACpD,aAAa,UAAU,CAAC;IAC1B;IACA,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa","debugId":null}},
    {"offset": {"line": 92, "column": 0}, "map": {"version":3,"sources":["file:///home/xamidov/devs/edulingo/client/app/api/api.endpoint.ts"],"sourcesContent":["const apiEndpoints = {\n  home: \"/\",\n\n  // auth\n  signup: \"/auth/signup\",\n  signin: \"/auth/signin\",\n  profile: \"/auth/profile\",\n  resetToken: (token: string) => `/auth/reset/?token=${token}`,\n  verify_magic_link: (token: string) =>\n    `/auth/verify-magic-link/?token=${token}`,\n  google: \"/auth/google\",\n  github: \"/auth/github\",\n\n  // organisations\n};\n\nexport default apiEndpoints;\n"],"names":[],"mappings":";;;AAAA,MAAM,eAAe;IACnB,MAAM;IAEN,OAAO;IACP,QAAQ;IACR,QAAQ;IACR,SAAS;IACT,YAAY,CAAC,QAAkB,CAAC,mBAAmB,EAAE,OAAO;IAC5D,mBAAmB,CAAC,QAClB,CAAC,+BAA+B,EAAE,OAAO;IAC3C,QAAQ;IACR,QAAQ;AAGV;uCAEe","debugId":null}},
    {"offset": {"line": 116, "column": 0}, "map": {"version":3,"sources":["file:///home/xamidov/devs/edulingo/client/app/api/services/authService.ts"],"sourcesContent":["import User from \"@/app/types/User\";\nimport api from \"../api.config\";\nimport apiEndpoints from \"../api.endpoint\";\nimport { LoginData, RegisterData } from \"./utils/authTypes\";\n\nconst authService = {\n  login: async (data: LoginData) => {\n    try {\n      return await api.post(apiEndpoints.signin, data);\n    } catch (error) {\n      throw error;\n    }\n  },\n\n  signup: async (data: RegisterData) => {\n    try {\n      return await api.post(apiEndpoints.signup, data);\n    } catch (error) {\n      throw error;\n    }\n  },\n\n  verifyEmail: async (token: string) => {\n    try {\n      return await api.get(apiEndpoints.verify_magic_link(token));\n    } catch (error) {\n      throw error;\n    }\n  },\n\n  getProfile: async () => {\n    try {\n      const user: User = await api.get(apiEndpoints.profile);\n      return user;\n    } catch (error) {\n      throw error;\n    }\n  },\n\n  resetToken: async (reset_token: string) => {\n    try {\n      return await api.get(apiEndpoints.resetToken(reset_token));\n    } catch (error) {\n      throw error;\n    }\n  },\n};\n\nexport default authService;\n"],"names":[],"mappings":";;;AACA;AACA;;;AAGA,MAAM,cAAc;IAClB,OAAO,OAAO;QACZ,IAAI;YACF,OAAO,MAAM,8HAAA,CAAA,UAAG,CAAC,IAAI,CAAC,gIAAA,CAAA,UAAY,CAAC,MAAM,EAAE;QAC7C,EAAE,OAAO,OAAO;YACd,MAAM;QACR;IACF;IAEA,QAAQ,OAAO;QACb,IAAI;YACF,OAAO,MAAM,8HAAA,CAAA,UAAG,CAAC,IAAI,CAAC,gIAAA,CAAA,UAAY,CAAC,MAAM,EAAE;QAC7C,EAAE,OAAO,OAAO;YACd,MAAM;QACR;IACF;IAEA,aAAa,OAAO;QAClB,IAAI;YACF,OAAO,MAAM,8HAAA,CAAA,UAAG,CAAC,GAAG,CAAC,gIAAA,CAAA,UAAY,CAAC,iBAAiB,CAAC;QACtD,EAAE,OAAO,OAAO;YACd,MAAM;QACR;IACF;IAEA,YAAY;QACV,IAAI;YACF,MAAM,OAAa,MAAM,8HAAA,CAAA,UAAG,CAAC,GAAG,CAAC,gIAAA,CAAA,UAAY,CAAC,OAAO;YACrD,OAAO;QACT,EAAE,OAAO,OAAO;YACd,MAAM;QACR;IACF;IAEA,YAAY,OAAO;QACjB,IAAI;YACF,OAAO,MAAM,8HAAA,CAAA,UAAG,CAAC,GAAG,CAAC,gIAAA,CAAA,UAAY,CAAC,UAAU,CAAC;QAC/C,EAAE,OAAO,OAAO;YACd,MAAM;QACR;IACF;AACF;uCAEe","debugId":null}},
    {"offset": {"line": 171, "column": 0}, "map": {"version":3,"sources":["file:///home/xamidov/devs/edulingo/client/app/panel/PanelAuthDirector.tsx"],"sourcesContent":["\"use client\";\nimport { useRouter } from \"next/navigation\";\nimport { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { HashLoader } from \"react-spinners\";\nimport authService from \"../api/services/authService\";\nimport { updateUser } from \"../store/slices/userSlice\";\n\nexport default function PanelAuthDirector() {\n  const [loading, setloading] = useState(true);\n  const router = useRouter();\n  const dispatch = useDispatch();\n  const user = useSelector((state: any) => state.user);\n\n  useEffect(() => {\n    const access_token = localStorage.getItem(\"access_token\");\n    if (!access_token) {\n      router.push(\"/signup\");\n    } else {\n      if (!user.currentUser) {\n        async function DispatchUser() {\n          try {\n            const user_profile = await authService.getProfile();\n            dispatch(updateUser(user_profile));\n          } catch (error) {\n            try {\n              const reset_token = localStorage.getItem(\"reset_token\");\n              if (!reset_token) {\n                return router.push(\"/signup\");\n              }\n              const access_token: any = await authService.resetToken(\n                reset_token\n              );\n              if (!access_token) {\n                return router.push(\"/signup\");\n              }\n              localStorage.setItem(\"access_token\", access_token);\n              const user_profile = await authService.getProfile();\n              dispatch(updateUser(user_profile));\n            } catch (error) {\n              router.push(\"/signup\");\n            }\n          }\n        }\n        DispatchUser();\n      }\n      setloading(false);\n    }\n  }, []);\n  return (\n    <>\n      {loading && (\n        <div className=\"fixed w-full h-screen top-0 left-0 right-0 bottom-0 bg-white z-50 flex justify-center items-center\">\n          <HashLoader color=\"#7c3aed\" size={58} />\n        </div>\n      )}\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AACA;AACA;;;AANA;;;;;;;AAQe,SAAS;;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,WAAW,CAAA,GAAA,4JAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,OAAO,CAAA,GAAA,4JAAA,CAAA,cAAW,AAAD;+CAAE,CAAC,QAAe,MAAM,IAAI;;IAEnD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;uCAAE;YACR,MAAM,eAAe,aAAa,OAAO,CAAC;YAC1C,IAAI,CAAC,cAAc;gBACjB,OAAO,IAAI,CAAC;YACd,OAAO;gBACL,IAAI,CAAC,KAAK,WAAW,EAAE;oBACrB,eAAe;wBACb,IAAI;4BACF,MAAM,eAAe,MAAM,wIAAA,CAAA,UAAW,CAAC,UAAU;4BACjD,SAAS,CAAA,GAAA,sIAAA,CAAA,aAAU,AAAD,EAAE;wBACtB,EAAE,OAAO,OAAO;4BACd,IAAI;gCACF,MAAM,cAAc,aAAa,OAAO,CAAC;gCACzC,IAAI,CAAC,aAAa;oCAChB,OAAO,OAAO,IAAI,CAAC;gCACrB;gCACA,MAAM,eAAoB,MAAM,wIAAA,CAAA,UAAW,CAAC,UAAU,CACpD;gCAEF,IAAI,CAAC,cAAc;oCACjB,OAAO,OAAO,IAAI,CAAC;gCACrB;gCACA,aAAa,OAAO,CAAC,gBAAgB;gCACrC,MAAM,eAAe,MAAM,wIAAA,CAAA,UAAW,CAAC,UAAU;gCACjD,SAAS,CAAA,GAAA,sIAAA,CAAA,aAAU,AAAD,EAAE;4BACtB,EAAE,OAAO,OAAO;gCACd,OAAO,IAAI,CAAC;4BACd;wBACF;oBACF;oBACA;gBACF;gBACA,WAAW;YACb;QACF;sCAAG,EAAE;IACL,qBACE;kBACG,yBACC,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC,kMAAA,CAAA,aAAU;gBAAC,OAAM;gBAAU,MAAM;;;;;;;;;;;;AAK5C;GAlDwB;;QAEP,qIAAA,CAAA,YAAS;QACP,4JAAA,CAAA,cAAW;QACf,4JAAA,CAAA,cAAW;;;KAJF","debugId":null}}]
}